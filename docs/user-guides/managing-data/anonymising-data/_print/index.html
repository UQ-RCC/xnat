<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://docs.xnat.rcc.uq.edu.au/docs/user-guides/managing-data/anonymising-data/><link rel=alternate type=application/rss+xml href=https://docs.xnat.rcc.uq.edu.au/docs/user-guides/managing-data/anonymising-data/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=https://docs.xnat.rcc.uq.edu.au/favicons/favicon.ico><link rel=apple-touch-icon href=https://docs.xnat.rcc.uq.edu.au/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=https://docs.xnat.rcc.uq.edu.au/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=https://docs.xnat.rcc.uq.edu.au/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://docs.xnat.rcc.uq.edu.au/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=https://docs.xnat.rcc.uq.edu.au/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=https://docs.xnat.rcc.uq.edu.au/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=https://docs.xnat.rcc.uq.edu.au/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=https://docs.xnat.rcc.uq.edu.au/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=https://docs.xnat.rcc.uq.edu.au/favicons/android-192x192.png sizes=192x192><title>Anonymising Data | UQ AIS XNAT</title>
<meta name=description content="Anonymising Data"><meta property="og:url" content="https://docs.xnat.rcc.uq.edu.au/docs/user-guides/managing-data/anonymising-data/"><meta property="og:site_name" content="UQ AIS XNAT"><meta property="og:title" content="Anonymising Data"><meta property="og:description" content="Anonymising Data"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Anonymising Data"><meta itemprop=description content="Anonymising Data"><meta itemprop=dateModified content="2023-07-04T16:56:25+10:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Anonymising Data"><meta name=twitter:description content="Anonymising Data"><link rel=preload href=https://docs.xnat.rcc.uq.edu.au/scss/main.min.3024b6cb4bce0b81b810dba148b2caa0115811442f396aec0f6033e85e259e6b.css as=style integrity="sha256-MCS2y0vOC4G4ENuhSLLKoBFYEUQvOWrsD2Az6F4lnms=" crossorigin=anonymous><link href=https://docs.xnat.rcc.uq.edu.au/scss/main.min.3024b6cb4bce0b81b810dba148b2caa0115811442f396aec0f6033e85e259e6b.css rel=stylesheet integrity="sha256-MCS2y0vOC4G4ENuhSLLKoBFYEUQvOWrsD2Az6F4lnms=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=https://docs.xnat.rcc.uq.edu.au/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>UQ AIS XNAT</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://xnat.rcc.uq.edu.au target=_blank rel=noopener><i class='fa-solid fa-arrow-up-right-from-square'></i><span>Link to XNAT</span></a></li><li class=nav-item><a class=nav-link href=mailto:rcc-support@uq.edu.au><i class='fa fa-envelope'></i><span>Support Ticket</span></a></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=https://docs.xnat.rcc.uq.edu.au/docs/user-guides/managing-data/anonymising-data/>Return to the regular view of this page</a>.</p></div><h1 class=title>Anonymising Data</h1><div class=lead>Anonymising Data</div><ul><li>1: <a href=#pg-0718193c98e84551ba879763182cf306>Project anonymiser</a></li><li>2: <a href=#pg-e7b5faed54e18ca55911f1729bf437e9>Site anonymiser</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-0718193c98e84551ba879763182cf306>1 - Project anonymiser</h1><div class=lead>Project anonymiser</div><p>The Project level anonymiser uses a scripting syntax called DicomEdit to modify, reassign or blank DICOM tags.
You can actually use this to create automated workflow for renaming DICOM metadata on datasets</p><dl><dt>Dicomedit</dt><dd><a href=https://wiki.xnat.org/xnat-tools/dicomedit/dicomedit-6-3-language-reference>https://wiki.xnat.org/xnat-tools/dicomedit/dicomedit-6-3-language-reference</a></dd></dl><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>version</span> <span style=color:#4e9a06>&#34;6.1&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>project</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#4e9a06>&#34;Unassigned&#34;</span> <span style=color:#a40000>?</span> <span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0008</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1030</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>project</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0010</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0010</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>subject</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0010</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0020</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>session</span>
</span></span></code></pre></div><p>The example in this screenshot basically replicates the behaviour in the HIRF onsite anonymiser for remapping the ReferringPhysicianName, PatientName and PatientID</p><p><img src=project-anonymiser-1.png width=70% style="border:1px solid #ddd"></img></p><p>You can use DICOMedit to enforce a particular naming and tagging scheme across your entire project this way.</p><h2 id=anonymising-existing-sesssions>Anonymising existing sesssions</h2><div class="alert alert-secondary" role=alert><h4 class=alert-heading>Note</h4>If you’re planning to use the project level anonymiser, best solution would be to have your project’s renaming, retagging or anonymisation scheme established before starting data acquisition.</div><p>The Project level anonymiser works best for new sessions, as it runs when the dataset is being ingested into the XNAT archive, or when sessions are renamed. By default, it does not anonymise sessions that are sitting in the archive already.</p><p>If you need to trigger your anonymisation on an existing session</p><ul><li>Edit a session name. Modify</li><li>Then edit it back to its original name</li></ul><p>This will trigger the anonymisation script.</p><div class="alert alert-warning" role=alert><h4 class=alert-heading>Warning</h4>Session edits take a bit of time, as the files and metadata are modified during edits, so allow some wait time if you use this method.</div><p><img src=project-anonymiser-2.png width=70% style="border:1px solid #ddd"></img></p></div><div class=td-content style=page-break-before:always><h1 id=pg-e7b5faed54e18ca55911f1729bf437e9>2 - Site anonymiser</h1><div class=lead>Site anonymiser</div><p>HIRF and CAI data are anonymised on-site by default with the following protocols</p><h2 id=modified-tags>Modified Tags</h2><table><thead><tr><th>DICOM Tag</th><th>Original value</th><th>New value</th></tr></thead><tbody><tr><td>PatientBirthDate</td><td>10/12/2000</td><td>1/1/2000</td></tr><tr><td>PatientComments</td><td>XXXXXXXX</td><td>Project:Proj001 Subject:TEST_MR Session:TEST_MR-20210405T1220</td></tr><tr><td>ReferringPhysicianName</td><td>Proj001</td><td>Proj001</td></tr><tr><td>PatientName</td><td>XXXXXXXX</td><td>TEST_MR</td></tr><tr><td>PatientID</td><td>TEST_MR</td><td>TEST_MR-20210405T1220</td></tr></tbody></table><h2 id=blanked-tags>Blanked Tags</h2><table><thead><tr><th>DICOM Tag</th></tr></thead><tbody><tr><td>AccessionNumber</td></tr><tr><td>ImageComments</td></tr><tr><td>OperatorName</td></tr><tr><td>OtherPatientIDs</td></tr><tr><td>AdditionalPatientHistory</td></tr><tr><td>AdmittingDiagnosisDescription</td></tr><tr><td>MedicalRecordLocator</td></tr><tr><td>NameOfPhysicianReadingStudy</td></tr><tr><td>Occupation</td></tr><tr><td>OtherPatientNames</td></tr><tr><td>PatientBirthTime</td></tr><tr><td>PerformingPhysicianName</td></tr><tr><td>PhysicianOfRecord</td></tr><tr><td>ReferringPhysicianAddress</td></tr><tr><td>ReferringPhysicianPhoneNumbers</td></tr></tbody></table></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025
<span class=td-footer__authors>UQ Research Computing Centre (RCC) & Australian National Imaging Facility (ANIF)</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div></div></footer></div><script src=https://docs.xnat.rcc.uq.edu.au/js/main.min.cbb5418769b98b84b7d45c9b0b6751a605978e4a914522f2148367f76a81a290.js integrity="sha256-y7VBh2m5i4S31FybC2dRpgWXjkqRRSLyFINn92qBopA=" crossorigin=anonymous></script><script defer src=https://docs.xnat.rcc.uq.edu.au/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=https://docs.xnat.rcc.uq.edu.au/js/tabpane-persist.js></script></body></html>